<div class="panel">
  <header class="header">
    <h2>📊 Mi Historial de Actividades</h2>
  </header>

  <nav class="tabs">
    <button
      class="tab"
      [class.active]="filtroActivo === 'todos'"
      (click)="cambiarFiltro('todos')">
      Todos
    </button>
    <button
      class="tab"
      [class.active]="filtroActivo === 'reciclaje'"
      (click)="cambiarFiltro('reciclaje')">
      ♻️ Reciclaje
    </button>
    <button
      class="tab"
      [class.active]="filtroActivo === 'educacion'"
      (click)="cambiarFiltro('educacion')">
      📚 Educación
    </button>
    <button
      class="tab"
      [class.active]="filtroActivo === 'campanas'"
      (click)="cambiarFiltro('campanas')">
      🏆 Campañas
    </button>
  </nav>

  <div class="content-section">
    <div class="actividades-lista">
      <div class="actividad-item" *ngFor="let actividad of actividades">
        <div class="fecha">
          📅 {{ formatearFecha(actividad.fecha) }}
        </div>

        <h3 class="titulo">{{ actividad.titulo }}</h3>

        <div class="detalles" *ngIf="actividad.ubicacion">
          📍 {{ actividad.ubicacion }}
        </div>

        <div class="detalles" *ngIf="actividad.duracion">
          ⏱️ Duración: {{ actividad.duracion }}
        </div>

        <div class="detalles" *ngIf="actividad.rol">
          👤 Rol: {{ actividad.rol }}
        </div>

        <div class="dispositivos" *ngIf="actividad.dispositivos && actividad.dispositivos.length > 0">
          <p><strong>Dispositivos reciclados:</strong></p>
          <ul>
            <li *ngFor="let dispositivo of actividad.dispositivos">{{ dispositivo }}</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="certificado-section">
      <h3>Certificado de reciclaje</h3>
      <p>Puedes descargar un certificado de tus actividades de reciclaje para presentarlo en tu empresa o institución educativa.</p>
      <button class="btn-descargar" (click)="descargarCertificado()">
        Descargar certificado
      </button>
    </div>
  </div>
</div>
